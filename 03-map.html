<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script>
			
			/*
			 1. JavaScript 的对象（Object），本质上是键值对的集合（Hash 结构），但是传统上只能用字符串当作键。这给它的使用带来了很大的限制。
			 2. 为了解决这个问题，ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。
			*/
			
			// 1. 简单实例
			
			const m = new Map()
			const o = {
				name : "LilyChenlin"
			}
			m.set(o,'content')
			console.log(m.get(o)) //content
			console.log(m.has(o)) //true
			console.log(m.delete(o)) //true
			console.log(m.has(o)) //false
			
		   
		    //2. map可以接受一个数组作为参数
			const map = new Map([
				['name','张三'],
				['title','handsome boy']
			])
			console.log(map.size) //2
			console.log(map.has('name')) //true
			console.log(map.get('name')) //张三
			console.log(map.has('title'))//true
			console.log(map.get('title')) // handsome body
			
			
			//3.不仅仅是数组，任何具有 Iterator 接口、且每个成员都是一个双元素的数组的数据结构都可以当作Map构造函数的参数。
			// 即可以使用Set对象和Map对象当作Map构造函数的参数
			const set = new Set([
				["foo",1],
				["bar",2]
			])
			const map = new Map(set)
			console.log(map.get('foo')) //1
			
			const map2 = new Map([["bar",3]])
			const map3 = new Map(map2)
			console.log(map3.get('bar')) //3
			
			//4.如果对一个键多次赋值,则后面那个值会覆盖前面的那个值
			const map = new Map()
			map
				.set(1,'aaa')
				.set(1,'bbb')
			console.log(map.get(1))  //bbb
			
			//5.注意,只有对同一个对象的应用,Map才将其视为同一个键
			const map = new Map()
			map.set(['a'],555)
			
			console.log(map.get(['a'])) //undefined
			
			const k1 = ['a']
			const k2 = ['a']
			map
				.set(k1,500)
				.set(k2,400)
			console.log(map.get(k1)) //500
			console.log(map.get(k2)) //400 
			
			//变量k1和k2的值是一样的，但是它们在 Map 结构中被视为两个键。
			//Map 的键实际上是跟内存地址绑定的，只要内存地址不一样，就视为两个键。
		</script>
	</body>
</html>
